<div class="box wide">
  <div class="legend">
    <%= t(".legend") %>
  </div>

  <%= form_for @new_user, { :url => signup_url,
  :autocomplete => "off" } do |f| %>
    <%= hidden_field_tag "invitation_code", @invitation.code %>

    <p>
    <%= t(".hint") %>
    </p>

    <%= error_messages_for(@new_user) %>

    <p>
    <%= f.label :invitation, t(".invited_by"), :class => "required" %>
    <span class="d">
      <a href="/u/<%= @invitation.user.username %>" target="_blank"><%=
        @invitation.user.username %></a>
    </span>
    </p>

    <p>
    <%= f.label :username, t(".username"), :class => "required" %>
    <%= f.text_field :username, :size => 30 %>
    <span class="hint">
      <tt>[A-Za-z0-9][A-Za-z0-9_-]*</tt>
    </span>
    <br />

    <%= f.label :email, t(".email"), :class => "required" %>
    <%= f.email_field :email, :size => 30 %>
    <span class="hint">
      <%= t(".gravatarized_html", gravatar: link_to("Gravatar", "http://www.gravatar.com/", target: "_blank")) %>
    </span>
    <br />

    <%= f.label :password, t(".password"), :class => "required" %>
    <%= f.password_field :password, :size => 30, :autocomplete => "off" %>
    <br />

    <%= f.label :password_confirmation, t(".password_again"),
      :class => "required" %>
    <%= f.password_field :password_confirmation, :size => 30,
      :autocomplete => "off" %>
    <br />
    </p>

    <p>
    <%= t(".about_hint") %>
    </p>

    <p>
    <div class="boxline">
      <%= f.label :about, t(".about"), :class => "required" %>
      <%= f.text_area :about, :size => "100x5", :style => "width: 600px;" %>
    </div>

    <div class="box">
      <div class="boxline markdown_help_toggler"
        style="margin-left: 9em; width: 600px;">
        <div class="markdown_help_label">
          <%= t(".markdown") %>
        </div>

        <div style="clear: both;"></div>

        <%= render :partial => "global/markdownhelp" %>
      </div>
    </div>

    <p>
    <%= submit_tag t(".signup") %>
    </p>
  <% end %>
</div>
